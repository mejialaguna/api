(this["webpackJsonppractice-test"]=this["webpackJsonppractice-test"]||[]).push([[0],{121:function(t,e,c){"use strict";c.r(e);var r=c(0),a=c(23),n=c.n(a),i=c(50),o=c(10),s=(c(87),c(47)),d=c(12),u=c(34),j=c.n(u),l=c(7),b=c(4),p=c(14),O="UPDATE_PRODUCTS",x="UPDATE_CATEGORIES",g="UPDATE_CURRENT_CATEGORY",h="SAVED_PRODUCTS",f=function(t,e){switch(e.type){case O:return Object(l.a)(Object(l.a)({},t),{},{products:Object(p.a)(e.products)});case x:return Object(l.a)(Object(l.a)({},t),{},{categories:Object(p.a)(e.categories)});case g:return Object(l.a)(Object(l.a)({},t),{},{currentCategory:e.currentCategory});case h:return Object(l.a)(Object(l.a)({},t),{},{savedProducts:[].concat(Object(p.a)(t.savedProducts),[e.product])});default:return t}};var m=c(3),v=["value"],y=Object(r.createContext)(),C=y.Provider,P=function(t){t.value;var e,c=Object(b.a)(t,v),a=(e={products:[],categories:[],currentCategory:"",savedProducts:[]},Object(r.useReducer)(f,e)),n=Object(d.a)(a,2),i=n[0],o=n[1];return console.log(i),Object(m.jsx)(C,Object(l.a)({value:[i,o]},c))},E=function(){return Object(r.useContext)(y)},k=c(155),S=c(156),D=c(157),w=c(11),T=c(149),A=c(6),R=c(162),U=c(151),N=c(152),_=c(153),L=c(154),J=c(160),B=c(163),G=c(159),I=c(54),F=c(53),M=c(74),V=c.n(M),W=c(76),Y=c(158),$=(Object(W.a)(Y.a)((function(t){var e=t.theme;return Object(l.a)(Object(l.a)({},e.typography.body2),{},{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary})})),Object(T.a)((function(t){return{root:{maxWidth:345},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:F.a[500]}}}))),q=function(t){var e=$(),c=r.useState(!1),a=Object(d.a)(c,2),n=a[0],i=a[1],o=t.id,s=t.description,u=t.category,j=t.image,b=t.price,p=t.title,O=E(),x=Object(d.a)(O,2),g=x[0],f=x[1],v=g.savedProducts,y=(new Date).toLocaleDateString();return Object(m.jsxs)(R.a,{className:e.root,style:{margin:"auto"},children:[Object(m.jsx)(U.a,{avatar:Object(m.jsx)(B.a,{"aria-label":"recipe",className:e.avatar,children:"JLML"}),title:p,subheader:y}),Object(m.jsx)(N.a,{className:e.media,image:j,title:p}),Object(m.jsxs)(_.a,{children:[Object(m.jsx)(I.a,{variant:"body2",color:"textSecondary",component:"p",children:u}),Object(m.jsxs)(I.a,{variant:"body2",color:"textSecondary",component:"p",children:["price: $ ",b]})]}),Object(m.jsxs)(L.a,{disableSpacing:!0,children:[Object(m.jsx)(G.a,{"aria-label":"add to favorites",onClick:function(){f({type:h,product:Object(l.a)({},t)}),console.log(v)},disabled:null===v||void 0===v?void 0:v.some((function(t){return t.id===o})),children:null!==v&&void 0!==v&&v.find((function(t){return t.id===o}))?"description":"add to favorites"}),Object(m.jsx)(G.a,{className:Object(A.a)(e.expand,Object(w.a)({},e.expandOpen,n)),onClick:function(){i(!n)},"aria-expanded":n,"aria-label":"show more",children:Object(m.jsx)(V.a,{})})]}),Object(m.jsx)(J.a,{in:n,timeout:"auto",unmountOnExit:!0,children:Object(m.jsxs)(_.a,{children:[Object(m.jsx)(I.a,{paragraph:!0,children:"Description:"}),Object(m.jsx)(I.a,{paragraph:!0,children:s})]})})]},o)},z=c(60),H={margin:{marginBottom:"55px"}};function K(){var t=E(),e=Object(d.a)(t,2),c=e[0],a=e[1],n=c.currentCategory,i=function(){var t=Object(s.a)(j.a.mark((function t(){var e;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.get("https://fakestoreapi.com/products/").catch((function(t){console.log("error , ".concat(t))}));case 2:(e=t.sent)&&a({type:O,products:e.data});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){i()}),[]),Object(m.jsx)(k.a,{children:Object(m.jsx)(S.a,{children:(n?c.products.filter((function(t){return t.category===n})):c.products).map((function(t){return Object(m.jsx)(D.a,{md:4,style:H.margin,children:Object(m.jsx)(q,{id:t.id,description:t.description,category:t.category,image:t.image,title:t.title,price:t.price,rating:t.rating.count},t.id)},t.id)}))})})}var Q=c(60),X={cat:{display:"flex",margin:"20px",justifyContent:"space-evenly"}};var Z=function(){var t=Object(r.useState)(),e=Object(d.a)(t,2),c=e[0],a=e[1],n=E(),o=Object(d.a)(n,2),u=o[0],l=o[1],b=u.categories,p=function(){var t=Object(s.a)(j.a.mark((function t(){var e;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.get("https://fakestoreapi.com/products/categories").catch((function(t){console.log("error , ".concat(t))}));case 2:(e=t.sent)&&l({type:x,categories:e.data});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){p()}),[]),Object(m.jsx)("div",{children:Object(m.jsxs)("form",{onSubmit:function(t){t.preventDefault(),l({type:g,currentCategory:c})},style:X.cat,children:[b.map((function(t){return Object(m.jsx)("button",{onClick:function(){return a(t)},type:"submit",children:t},t)})),Object(m.jsx)(i.b,{to:"/savedProducts/",children:Object(m.jsx)("button",{children:" Favorites "})})]})})},tt=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(Z,{}),Object(m.jsx)(K,{})]})};var et=function(){var t=E(),e=Object(d.a)(t,2),c=e[0],r=(e[1],c.savedProducts);return console.log(r),Object(m.jsxs)(k.a,{children:[r.length?Object(m.jsxs)("h1",{style:{margin:"25px"},children:["total saved products: ",r.length]}):null,Object(m.jsx)(S.a,{children:c.savedProducts.length?r.map((function(t,e){return Object(m.jsx)(D.a,{md:4,style:{margin:"25px 0"},children:Object(m.jsx)(q,{id:t.id,description:t.description,category:t.category,image:t.image,title:t.title,price:t.price,rating:t.rating.count},t.id)},t.id)})):Object(m.jsx)("p",{children:" start saving some products before checking your favorites "})})]})};var ct=function(){return Object(m.jsx)(i.a,{children:Object(m.jsx)("div",{children:Object(m.jsx)(P,{children:Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{exact:!0,path:"/api",component:tt}),Object(m.jsx)(o.a,{path:"/savedProducts",component:et})]})})})})};n.a.render(Object(m.jsx)(ct,{}),document.getElementById("root"))}},[[121,1,2]]]);
//# sourceMappingURL=main.a2f8087a.chunk.js.map
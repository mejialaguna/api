(this["webpackJsonppractice-test"]=this["webpackJsonppractice-test"]||[]).push([[0],{132:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),i=a(54),u=a(9),l=(a(98),a(34)),s=a.n(l),d=a(49),p=a(15),m=a(86),E=a(8),f=a(20),g=function(e,t){switch(t.type){case"UPDATE_PRODUCTS":return Object(f.a)(Object(f.a)({},e),{},{products:Object(E.a)(t.products)});case"UPDATE_CATEGORIES":return Object(f.a)(Object(f.a)({},e),{},{categories:Object(E.a)(t.categories)});case"UPDATE_CURRENT_CATEGORY":return Object(f.a)(Object(f.a)({},e),{},{currentCategory:t.currentCategory});case"SAVED_PRODUCTS":return Object(f.a)(Object(f.a)({},e),{},{savedProducts:[].concat(Object(E.a)(e.savedProducts),[t.product])});default:return e}};var b=["value"],v=Object(n.createContext)(),O=v.Provider,y=function(e){e.value;var t,a=Object(m.a)(e,b),c=(t={products:[],categories:[],currentCategory:"",savedProducts:[]},Object(n.useReducer)(g,t)),o=Object(p.a)(c,2),i=o[0],u=o[1];return console.log(i),r.a.createElement(O,Object.assign({value:[i,u]},a))},j=function(){return Object(n.useContext)(v)},h=a(11),x=a(166),C=a(5),P=a(179),S=a(169),T=a(170),D=a(171),k=a(172),A=a(174),R=a(180),U=a(173),w=a(62),_=a(61),N=a(83),G=a.n(N),L=a(58),I=a(178),J=a(177),V=a(176),Y=Object(L.a)(J.a)((function(e){var t=e.theme;return Object(f.a)(Object(f.a)({},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),B=Object(x.a)((function(e){return{root:{maxWidth:345},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:_.a[500]}}})),F=function(e){var t=B(),a=n.useState(!1),r=Object(p.a)(a,2),c=r[0],o=r[1],i=e.id,u=e.description,l=e.category,s=e.image,d=e.price,m=e.title,E=j(),g=Object(p.a)(E,2),b=g[0],v=g[1],O=b.savedProducts,y=(new Date).toLocaleDateString();return n.createElement("div",null,n.createElement(I.a,null,n.createElement(V.a,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3}},n.createElement(V.a,{item:!0,xs:6},n.createElement(Y,null,n.createElement(P.a,{className:t.root,key:i,style:{margin:"auto"}},n.createElement(S.a,{avatar:n.createElement(R.a,{"aria-label":"recipe",className:t.avatar},"JLML"),title:m,subheader:y}),n.createElement(T.a,{className:t.media,image:s,title:m}),n.createElement(D.a,null,n.createElement(w.a,{variant:"body2",color:"textSecondary",component:"p"},l),n.createElement(w.a,{variant:"body2",color:"textSecondary",component:"p"},"price: $ ",d)),n.createElement(k.a,{disableSpacing:!0},n.createElement(U.a,{"aria-label":"add to favorites",onClick:function(){v({type:"SAVED_PRODUCTS",product:Object(f.a)({},e)}),console.log(O)},disabled:null===O||void 0===O?void 0:O.some((function(e){return e.id===i}))},(null===O||void 0===O?void 0:O.find((function(e){return e.id===i})))?"description":"add to favorites"),n.createElement(U.a,{className:Object(C.a)(t.expand,Object(h.a)({},t.expandOpen,c)),onClick:function(){o(!c)},"aria-expanded":c,"aria-label":"show more"},n.createElement(G.a,null))),n.createElement(A.a,{in:c,timeout:"auto",unmountOnExit:!0},n.createElement(D.a,null,n.createElement(w.a,{paragraph:!0},"Description:"),n.createElement(w.a,{paragraph:!0},u)))))))))},M=a(68);function W(){var e=j(),t=Object(p.a)(e,2),a=t[0],c=t[1],o=a.currentCategory,i=function(){var e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.get("https://fakestoreapi.com/products/").catch((function(e){console.log("error , ".concat(e))}));case 2:(t=e.sent)&&c({type:"UPDATE_PRODUCTS",products:t.data});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i()}),[]),r.a.createElement("div",null,(o?a.products.filter((function(e){return e.category===o})):a.products).map((function(e){return r.a.createElement(F,{key:e.id,id:e.id,description:e.description,category:e.category,image:e.image,title:e.title,price:e.price,rating:e.rating.count})})))}var $=a(68),q={cat:{display:"flex",margin:"20px",justifyContent:"space-evenly"}};var z=function(){var e=Object(n.useState)(),t=Object(p.a)(e,2),a=t[0],c=t[1],o=j(),u=Object(p.a)(o,2),l=u[0],m=u[1],E=l.categories,f=function(){var e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("https://fakestoreapi.com/products/categories").catch((function(e){console.log("error , ".concat(e))}));case 2:(t=e.sent)&&m({type:"UPDATE_CATEGORIES",categories:t.data});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){f()}),[]),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m({type:"UPDATE_CURRENT_CATEGORY",currentCategory:a})},style:q.cat},E.map((function(e){return r.a.createElement("button",{onClick:function(){return c(e)},key:e,type:"submit"},e)})),r.a.createElement(i.b,{to:"/savedProducts/"},r.a.createElement("button",null," Favorites "))))},H=function(){return r.a.createElement("div",null,r.a.createElement(z,null),r.a.createElement(W,null))};var K=function(){var e=j(),t=Object(p.a)(e,2),a=t[0],n=(t[1],a.savedProducts);return console.log(n),r.a.createElement("div",null,n.length?n.map((function(e,t){return console.log(e),r.a.createElement(F,{key:e.id,id:e.id,description:e.description,category:e.category,image:e.image,title:e.title,price:e.price,rating:e.rating.count})})):r.a.createElement("p",null," start saving some products before checking your favorites "))};var Q=function(){return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(y,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/api",component:H}),r.a.createElement(u.a,{path:"/savedProducts",component:K})))))};o.a.render(r.a.createElement(Q,null),document.getElementById("root"))},93:function(e,t,a){e.exports=a(132)}},[[93,1,2]]]);
//# sourceMappingURL=main.fb7382d9.chunk.js.map